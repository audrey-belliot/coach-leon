<div class="container">
  <div class="row" data-controller="recipe-category">
    <div class="d-flex align-items-baseline">
      <%= link_to :back, class: "text-decoration-none text-muted" do %>
        <i class="fa-solid fa-chevron-left pe-3"></i>
      <% end %>
      <h1>Toutes les<br><b>recettes</b></h1>
    </div>


     <div class="mt-2">
      <button data-recipe-category-target="petitdej" data-action="click->recipe-category#loadPetitdej" class="btn-orange-mini">Petit-déjeuner</button>
      <button data-recipe-category-target="dej" data-action="click->recipe-category#loadDej" class="btn-white-grey">Déjeuner</button>
      <button data-recipe-category-target="diner" data-action="click->recipe-category#loadDiner" class="btn-white-grey">Dîner</button>

      <div data-recipe-category-target="petitdejSection" class="mt-3">
        <h2>Petit-déjeuners</h2>
        <div class="cards-grid">
          <% @petitdejs.each do |petitdej| %>
            <div class="card" style="background-image: url(<%= petitdej.picture %>)">
              <%= button_to new_recipe_meals_log_path(petitdej),
                  method: :get,
                  class: "card-plus" do %>
                    <i class="fa-solid fa-plus"></i>
              <% end %>
              <%= button_to recipe_path(petitdej),
                  method: :get,
                  class: "card-eye" do %>
                    <i class="fa-regular fa-eye"></i>
              <% end %>
            </div>
          <% end %>
        </div>
      </div>

      <div data-recipe-category-target="dejSection" class="mt-3 d-none">
        <h2>Déjeuners</h2>
        <div class="cards-grid">
          <% @dejs.each do |dej| %>
            <div class="card" style="background-image: url(<%= dej.picture %>)">
              <%= button_to new_recipe_meals_log_path(dej),
                  method: :get,
                  class: "card-plus" do %>
                    <i class="fa-solid fa-plus"></i>
              <% end %>
              <%= button_to recipe_path(dej),
                  method: :get,
                  class: "card-eye" do %>
                    <i class="fa-regular fa-eye"></i>
              <% end %>
            </div>
          <% end %>
        </div>
      </div>

      <div data-recipe-category-target="dinerSection" class="mt-3 d-none">
        <h2>Dîners</h2>
        <div class="cards-grid">
          <% @diners.each do |diner| %>
            <div class="card" style="background-image: url(<%= diner.picture %>)">
                <%= button_to new_recipe_meals_log_path(diner),
                  method: :get,
                  class: "card-plus" do %>
                    <i class="fa-solid fa-plus"></i>
              <% end %>
              <%= button_to recipe_path(diner),
                  method: :get,
                  class: "card-eye" do %>
                    <i class="fa-regular fa-eye"></i>
              <% end %>
            </div>
          <% end %>
        </div>
      </div>


    </div>
  </div>
</div>
